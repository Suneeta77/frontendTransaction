{"ast":null,"code":"import axios from \"axios\";\nconst rootAPI = \"http://localhost:8000/api/v1\";\nconst userApi = rootAPI + \"/user\";\nconst transApi = rootAPI + \"/transaction\";\nconst getUserId = () => {\n  const userJson = sessionStorage.getItem(\"user\");\n  const userObj = JSON.parse(userJson);\n};\n\n// ============= user api\n\nexport const postUser = async userObj => {\n  try {\n    const {\n      data\n    } = await axios.post(userApi, userObj);\n    return data;\n  } catch (error) {\n    console.log(error);\n    return {\n      status: \"error\",\n      mesage: error.message\n    };\n  }\n};\n\n// ======== login user\n\nexport const loginUser = async userObj => {\n  try {\n    const {\n      data\n    } = await axios.post(userApi + \"/login\", userObj);\n    return data;\n  } catch (error) {\n    console.log(error);\n    return {\n      status: \"error\",\n      mesage: error.message\n    };\n  }\n};\n\n// ============= transaction api\n\nexport const postTrans = async transObj => {\n  try {\n    const userId = getUserId();\n    if (!userId) {\n      return {\n        status: \"error\",\n        message: \"userId not found, log out and log in again\"\n      };\n    }\n    const {\n      data\n    } = await axios.post(transApi, transObj, {\n      headers: {\n        Authorization: userId\n      }\n    });\n    return data;\n  } catch (error) {\n    console.log(error);\n    return {\n      status: \"error\",\n      mesage: error.message\n    };\n  }\n};","map":{"version":3,"names":["axios","rootAPI","userApi","transApi","getUserId","userJson","sessionStorage","getItem","userObj","JSON","parse","postUser","data","post","error","console","log","status","mesage","message","loginUser","postTrans","transObj","userId","headers","Authorization"],"sources":["/Users/suneetathapa/Downloads/14-11-2023 trans fullstack/client/src/heper/axiosHelper.js"],"sourcesContent":["import axios from \"axios\";\n\nconst rootAPI = \"http://localhost:8000/api/v1\";\nconst userApi = rootAPI + \"/user\";\nconst transApi = rootAPI + \"/transaction\";\n\nconst getUserId = () => {\n  const userJson = sessionStorage.getItem(\"user\");\n  const userObj = JSON.parse(userJson);\n};\n\n// ============= user api\n\nexport const postUser = async (userObj) => {\n  try {\n    const { data } = await axios.post(userApi, userObj);\n\n    return data;\n  } catch (error) {\n    console.log(error);\n    return {\n      status: \"error\",\n      mesage: error.message,\n    };\n  }\n};\n\n// ======== login user\n\nexport const loginUser = async (userObj) => {\n  try {\n    const { data } = await axios.post(userApi + \"/login\", userObj);\n\n    return data;\n  } catch (error) {\n    console.log(error);\n    return {\n      status: \"error\",\n      mesage: error.message,\n    };\n  }\n};\n\n// ============= transaction api\n\nexport const postTrans = async (transObj) => {\n  try {\n    const userId = getUserId();\n    if (!userId) {\n      return {\n        status: \"error\",\n        message: \"userId not found, log out and log in again\",\n      };\n    }\n    const { data } = await axios.post(transApi, transObj, {\n      headers: {\n        Authorization: userId,\n      },\n    });\n\n    return data;\n  } catch (error) {\n    console.log(error);\n    return {\n      status: \"error\",\n      mesage: error.message,\n    };\n  }\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,8BAA8B;AAC9C,MAAMC,OAAO,GAAGD,OAAO,GAAG,OAAO;AACjC,MAAME,QAAQ,GAAGF,OAAO,GAAG,cAAc;AAEzC,MAAMG,SAAS,GAAGA,CAAA,KAAM;EACtB,MAAMC,QAAQ,GAAGC,cAAc,CAACC,OAAO,CAAC,MAAM,CAAC;EAC/C,MAAMC,OAAO,GAAGC,IAAI,CAACC,KAAK,CAACL,QAAQ,CAAC;AACtC,CAAC;;AAED;;AAEA,OAAO,MAAMM,QAAQ,GAAG,MAAOH,OAAO,IAAK;EACzC,IAAI;IACF,MAAM;MAAEI;IAAK,CAAC,GAAG,MAAMZ,KAAK,CAACa,IAAI,CAACX,OAAO,EAAEM,OAAO,CAAC;IAEnD,OAAOI,IAAI;EACb,CAAC,CAAC,OAAOE,KAAK,EAAE;IACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IAClB,OAAO;MACLG,MAAM,EAAE,OAAO;MACfC,MAAM,EAAEJ,KAAK,CAACK;IAChB,CAAC;EACH;AACF,CAAC;;AAED;;AAEA,OAAO,MAAMC,SAAS,GAAG,MAAOZ,OAAO,IAAK;EAC1C,IAAI;IACF,MAAM;MAAEI;IAAK,CAAC,GAAG,MAAMZ,KAAK,CAACa,IAAI,CAACX,OAAO,GAAG,QAAQ,EAAEM,OAAO,CAAC;IAE9D,OAAOI,IAAI;EACb,CAAC,CAAC,OAAOE,KAAK,EAAE;IACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IAClB,OAAO;MACLG,MAAM,EAAE,OAAO;MACfC,MAAM,EAAEJ,KAAK,CAACK;IAChB,CAAC;EACH;AACF,CAAC;;AAED;;AAEA,OAAO,MAAME,SAAS,GAAG,MAAOC,QAAQ,IAAK;EAC3C,IAAI;IACF,MAAMC,MAAM,GAAGnB,SAAS,CAAC,CAAC;IAC1B,IAAI,CAACmB,MAAM,EAAE;MACX,OAAO;QACLN,MAAM,EAAE,OAAO;QACfE,OAAO,EAAE;MACX,CAAC;IACH;IACA,MAAM;MAAEP;IAAK,CAAC,GAAG,MAAMZ,KAAK,CAACa,IAAI,CAACV,QAAQ,EAAEmB,QAAQ,EAAE;MACpDE,OAAO,EAAE;QACPC,aAAa,EAAEF;MACjB;IACF,CAAC,CAAC;IAEF,OAAOX,IAAI;EACb,CAAC,CAAC,OAAOE,KAAK,EAAE;IACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IAClB,OAAO;MACLG,MAAM,EAAE,OAAO;MACfC,MAAM,EAAEJ,KAAK,CAACK;IAChB,CAAC;EACH;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}