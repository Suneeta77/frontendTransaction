{"ast":null,"code":"import axios from \"axios\";\nconst rootAPI = \"http://localhost:8000/api/v1\";\nconst userApi = rootAPI + \"/user\";\nconst transApi = rootAPI + \"/transaction\";\nconst getUserId = () => {\n  const userJson = sessionStorage.getItem(\"user\");\n  const userObj = JSON.parse(userJson);\n  return (userObj === null || userObj === void 0 ? void 0 : userObj._id) || null;\n};\n\n// ============= user api\n\nexport const postUser = async userObj => {\n  try {\n    const {\n      data\n    } = await axios.post(userApi, userObj);\n    return data;\n  } catch (error) {\n    console.log(error);\n    return {\n      status: \"error\",\n      mesage: error.message\n    };\n  }\n};\n\n//login user\nexport const loginUser = async userObj => {\n  try {\n    const {\n      data\n    } = await axios.post(userApi + \"/login\", userObj);\n    return data;\n  } catch (error) {\n    console.log(error);\n    return {\n      status: \"error\",\n      mesage: error.message\n    };\n  }\n};\n\n// ============= transaction api\n\nexport const postTrans = async transObj => {\n  try {\n    const userId = getUserId();\n    if (!userId) {\n      return {\n        status: \"error\",\n        message: \"userId not foud, log out and log in again.\"\n      };\n    }\n    const {\n      data\n    } = await axios.post(transApi, transObj, {\n      headers: {\n        Authorization: userId\n      }\n    });\n    return data;\n  } catch (error) {\n    console.log(error);\n    return {\n      status: \"error\",\n      mesage: error.message\n    };\n  }\n};\nexport const getTrans = async () => {\n  try {\n    const userId = getUserId();\n    if (!userId) {\n      return {\n        status: \"error\",\n        message: \"userId not foud, log out and log in again.\"\n      };\n    }\n    const {\n      data\n    } = await axios.get(transApi, {\n      headers: {\n        Authorization: userId\n      }\n    });\n    return data;\n  } catch (error) {\n    console.log(error);\n    return {\n      status: \"error\",\n      mesage: error.message\n    };\n  }\n};","map":{"version":3,"names":["axios","rootAPI","userApi","transApi","getUserId","userJson","sessionStorage","getItem","userObj","JSON","parse","_id","postUser","data","post","error","console","log","status","mesage","message","loginUser","postTrans","transObj","userId","headers","Authorization","getTrans","get"],"sources":["/Users/suneetathapa/Downloads/14-11-2023 trans fullstack/client/src/heper/axiosHelper.js"],"sourcesContent":["import axios from \"axios\";\n\nconst rootAPI = \"http://localhost:8000/api/v1\";\nconst userApi = rootAPI + \"/user\";\nconst transApi = rootAPI + \"/transaction\";\n\nconst getUserId = () => {\n  const userJson = sessionStorage.getItem(\"user\");\n  const userObj = JSON.parse(userJson);\n  return userObj?._id || null;\n};\n\n// ============= user api\n\nexport const postUser = async (userObj) => {\n  try {\n    const { data } = await axios.post(userApi, userObj);\n\n    return data;\n  } catch (error) {\n    console.log(error);\n    return {\n      status: \"error\",\n      mesage: error.message,\n    };\n  }\n};\n\n//login user\nexport const loginUser = async (userObj) => {\n  try {\n    const { data } = await axios.post(userApi + \"/login\", userObj);\n\n    return data;\n  } catch (error) {\n    console.log(error);\n    return {\n      status: \"error\",\n      mesage: error.message,\n    };\n  }\n};\n\n// ============= transaction api\n\nexport const postTrans = async (transObj) => {\n  try {\n    const userId = getUserId();\n    if (!userId) {\n      return {\n        status: \"error\",\n        message: \"userId not foud, log out and log in again.\",\n      };\n    }\n    const { data } = await axios.post(transApi, transObj, {\n      headers: {\n        Authorization: userId,\n      },\n    });\n\n    return data;\n  } catch (error) {\n    console.log(error);\n    return {\n      status: \"error\",\n      mesage: error.message,\n    };\n  }\n};\n\nexport const getTrans = async () => {\n  try {\n    const userId = getUserId();\n    if (!userId) {\n      return {\n        status: \"error\",\n        message: \"userId not foud, log out and log in again.\",\n      };\n    }\n    const { data } = await axios.get(transApi, {\n      headers: {\n        Authorization: userId,\n      },\n    });\n\n    return data;\n  } catch (error) {\n    console.log(error);\n    return {\n      status: \"error\",\n      mesage: error.message,\n    };\n  }\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,8BAA8B;AAC9C,MAAMC,OAAO,GAAGD,OAAO,GAAG,OAAO;AACjC,MAAME,QAAQ,GAAGF,OAAO,GAAG,cAAc;AAEzC,MAAMG,SAAS,GAAGA,CAAA,KAAM;EACtB,MAAMC,QAAQ,GAAGC,cAAc,CAACC,OAAO,CAAC,MAAM,CAAC;EAC/C,MAAMC,OAAO,GAAGC,IAAI,CAACC,KAAK,CAACL,QAAQ,CAAC;EACpC,OAAO,CAAAG,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEG,GAAG,KAAI,IAAI;AAC7B,CAAC;;AAED;;AAEA,OAAO,MAAMC,QAAQ,GAAG,MAAOJ,OAAO,IAAK;EACzC,IAAI;IACF,MAAM;MAAEK;IAAK,CAAC,GAAG,MAAMb,KAAK,CAACc,IAAI,CAACZ,OAAO,EAAEM,OAAO,CAAC;IAEnD,OAAOK,IAAI;EACb,CAAC,CAAC,OAAOE,KAAK,EAAE;IACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IAClB,OAAO;MACLG,MAAM,EAAE,OAAO;MACfC,MAAM,EAAEJ,KAAK,CAACK;IAChB,CAAC;EACH;AACF,CAAC;;AAED;AACA,OAAO,MAAMC,SAAS,GAAG,MAAOb,OAAO,IAAK;EAC1C,IAAI;IACF,MAAM;MAAEK;IAAK,CAAC,GAAG,MAAMb,KAAK,CAACc,IAAI,CAACZ,OAAO,GAAG,QAAQ,EAAEM,OAAO,CAAC;IAE9D,OAAOK,IAAI;EACb,CAAC,CAAC,OAAOE,KAAK,EAAE;IACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IAClB,OAAO;MACLG,MAAM,EAAE,OAAO;MACfC,MAAM,EAAEJ,KAAK,CAACK;IAChB,CAAC;EACH;AACF,CAAC;;AAED;;AAEA,OAAO,MAAME,SAAS,GAAG,MAAOC,QAAQ,IAAK;EAC3C,IAAI;IACF,MAAMC,MAAM,GAAGpB,SAAS,CAAC,CAAC;IAC1B,IAAI,CAACoB,MAAM,EAAE;MACX,OAAO;QACLN,MAAM,EAAE,OAAO;QACfE,OAAO,EAAE;MACX,CAAC;IACH;IACA,MAAM;MAAEP;IAAK,CAAC,GAAG,MAAMb,KAAK,CAACc,IAAI,CAACX,QAAQ,EAAEoB,QAAQ,EAAE;MACpDE,OAAO,EAAE;QACPC,aAAa,EAAEF;MACjB;IACF,CAAC,CAAC;IAEF,OAAOX,IAAI;EACb,CAAC,CAAC,OAAOE,KAAK,EAAE;IACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IAClB,OAAO;MACLG,MAAM,EAAE,OAAO;MACfC,MAAM,EAAEJ,KAAK,CAACK;IAChB,CAAC;EACH;AACF,CAAC;AAED,OAAO,MAAMO,QAAQ,GAAG,MAAAA,CAAA,KAAY;EAClC,IAAI;IACF,MAAMH,MAAM,GAAGpB,SAAS,CAAC,CAAC;IAC1B,IAAI,CAACoB,MAAM,EAAE;MACX,OAAO;QACLN,MAAM,EAAE,OAAO;QACfE,OAAO,EAAE;MACX,CAAC;IACH;IACA,MAAM;MAAEP;IAAK,CAAC,GAAG,MAAMb,KAAK,CAAC4B,GAAG,CAACzB,QAAQ,EAAE;MACzCsB,OAAO,EAAE;QACPC,aAAa,EAAEF;MACjB;IACF,CAAC,CAAC;IAEF,OAAOX,IAAI;EACb,CAAC,CAAC,OAAOE,KAAK,EAAE;IACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IAClB,OAAO;MACLG,MAAM,EAAE,OAAO;MACfC,MAAM,EAAEJ,KAAK,CAACK;IAChB,CAAC;EACH;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}